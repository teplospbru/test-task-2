{"ast":null,"code":"import axios from 'axios';\nimport { CALC_AMOUNT, CALC_CALCULATE_FROM, CALC_CALCULATE_TO, EXCHANGE_CALCULATE_FROM, HIDE_LOADER, RATES_FETCH, SHOW_LOADER } from \"./types\";\nconst options = {\n  method: 'GET',\n  url: 'https://exchangerate-api.p.rapidapi.com/rapid/latest/USD',\n  headers: {\n    'X-RapidAPI-Host': 'exchangerate-api.p.rapidapi.com',\n    'X-RapidAPI-Key': '17ae393c6emshdd9cf9a325f83dbp1faa29jsnded4f4454e45'\n  }\n};\nexport function ratesFetch() {\n  return dispatch => {\n    dispatch({\n      type: SHOW_LOADER\n    });\n    axios.request(options).then(function (response) {\n      const date = new Date();\n      const lastUpdate = date.getDate() + '.' + (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '.' + date.getFullYear();\n      dispatch({\n        type: RATES_FETCH,\n        fetchedData: response.data,\n        lastUpdate\n      });\n      setTimeout(() => {\n        dispatch({\n          type: HIDE_LOADER\n        });\n      }, 500);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n}\nexport function calculatorFrom(value) {\n  return {\n    type: CALC_CALCULATE_FROM,\n    currency: value\n  };\n}\nexport function calculatorTo(value) {\n  return {\n    type: CALC_CALCULATE_TO,\n    currency: value\n  };\n}\nexport function exchangeFrom(value) {\n  return {\n    type: EXCHANGE_CALCULATE_FROM,\n    currency: value\n  };\n}\nexport function calculatorAmount(value) {\n  return {\n    type: CALC_AMOUNT,\n    amount: value\n  };\n}","map":{"version":3,"names":["axios","CALC_AMOUNT","CALC_CALCULATE_FROM","CALC_CALCULATE_TO","EXCHANGE_CALCULATE_FROM","HIDE_LOADER","RATES_FETCH","SHOW_LOADER","options","method","url","headers","ratesFetch","dispatch","type","request","then","response","date","Date","lastUpdate","getDate","getMonth","getFullYear","fetchedData","data","setTimeout","catch","error","console","calculatorFrom","value","currency","calculatorTo","exchangeFrom","calculatorAmount","amount"],"sources":["/home/teplospb/Документы/Web-Dev/test-task-2/src/components/redux/actions.js"],"sourcesContent":["import axios from 'axios';\nimport { CALC_AMOUNT, CALC_CALCULATE_FROM, CALC_CALCULATE_TO, EXCHANGE_CALCULATE_FROM, HIDE_LOADER, RATES_FETCH, SHOW_LOADER } from \"./types\";\n\nconst options = {\n  method: 'GET',\n  url: 'https://exchangerate-api.p.rapidapi.com/rapid/latest/USD',\n  headers: {\n    'X-RapidAPI-Host': 'exchangerate-api.p.rapidapi.com',\n    'X-RapidAPI-Key': '17ae393c6emshdd9cf9a325f83dbp1faa29jsnded4f4454e45'\n  }\n};\n\nexport function ratesFetch() {\n    return dispatch => {\n        dispatch({ type: SHOW_LOADER })\n        axios.request(options).then(function (response) {\n            const date = new Date();\n            const lastUpdate = date.getDate() + '.' + (((date.getMonth() + 1) < 10) ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) + '.' + date.getFullYear();\n            dispatch({ type: RATES_FETCH, fetchedData: response.data, lastUpdate });\n            setTimeout(() => {\n              dispatch({type: HIDE_LOADER });\n            }, 500)\n        }).catch(function (error) {\n            console.error(error);\n        });\n    }\n}\n\nexport function calculatorFrom(value) {\n  return {\n    type: CALC_CALCULATE_FROM,\n    currency: value\n  }\n}\n\nexport function calculatorTo(value) {\n  return {\n    type: CALC_CALCULATE_TO,\n    currency: value\n  }\n}\n\nexport function exchangeFrom(value) {\n  return {\n    type: EXCHANGE_CALCULATE_FROM,\n    currency: value\n  }\n}\n\nexport function calculatorAmount(value) {\n  return {\n    type: CALC_AMOUNT,\n    amount: value\n  }\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,mBAAtB,EAA2CC,iBAA3C,EAA8DC,uBAA9D,EAAuFC,WAAvF,EAAoGC,WAApG,EAAiHC,WAAjH,QAAoI,SAApI;AAEA,MAAMC,OAAO,GAAG;EACdC,MAAM,EAAE,KADM;EAEdC,GAAG,EAAE,0DAFS;EAGdC,OAAO,EAAE;IACP,mBAAmB,iCADZ;IAEP,kBAAkB;EAFX;AAHK,CAAhB;AASA,OAAO,SAASC,UAAT,GAAsB;EACzB,OAAOC,QAAQ,IAAI;IACfA,QAAQ,CAAC;MAAEC,IAAI,EAAEP;IAAR,CAAD,CAAR;IACAP,KAAK,CAACe,OAAN,CAAcP,OAAd,EAAuBQ,IAAvB,CAA4B,UAAUC,QAAV,EAAoB;MAC5C,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;MACA,MAAMC,UAAU,GAAGF,IAAI,CAACG,OAAL,KAAiB,GAAjB,IAA0BH,IAAI,CAACI,QAAL,KAAkB,CAAnB,GAAwB,EAAzB,GAA+B,OAAOJ,IAAI,CAACI,QAAL,KAAkB,CAAzB,CAA/B,GAA8DJ,IAAI,CAACI,QAAL,KAAkB,CAAxG,IAA8G,GAA9G,GAAoHJ,IAAI,CAACK,WAAL,EAAvI;MACAV,QAAQ,CAAC;QAAEC,IAAI,EAAER,WAAR;QAAqBkB,WAAW,EAAEP,QAAQ,CAACQ,IAA3C;QAAiDL;MAAjD,CAAD,CAAR;MACAM,UAAU,CAAC,MAAM;QACfb,QAAQ,CAAC;UAACC,IAAI,EAAET;QAAP,CAAD,CAAR;MACD,CAFS,EAEP,GAFO,CAAV;IAGH,CAPD,EAOGsB,KAPH,CAOS,UAAUC,KAAV,EAAiB;MACtBC,OAAO,CAACD,KAAR,CAAcA,KAAd;IACH,CATD;EAUH,CAZD;AAaH;AAED,OAAO,SAASE,cAAT,CAAwBC,KAAxB,EAA+B;EACpC,OAAO;IACLjB,IAAI,EAAEZ,mBADD;IAEL8B,QAAQ,EAAED;EAFL,CAAP;AAID;AAED,OAAO,SAASE,YAAT,CAAsBF,KAAtB,EAA6B;EAClC,OAAO;IACLjB,IAAI,EAAEX,iBADD;IAEL6B,QAAQ,EAAED;EAFL,CAAP;AAID;AAED,OAAO,SAASG,YAAT,CAAsBH,KAAtB,EAA6B;EAClC,OAAO;IACLjB,IAAI,EAAEV,uBADD;IAEL4B,QAAQ,EAAED;EAFL,CAAP;AAID;AAED,OAAO,SAASI,gBAAT,CAA0BJ,KAA1B,EAAiC;EACtC,OAAO;IACLjB,IAAI,EAAEb,WADD;IAELmC,MAAM,EAAEL;EAFH,CAAP;AAID"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/teplospb/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Web-Dev/test-task-2/src/screens/Calculator.js\",\n    _s = $RefreshSig$();\n\nimport react from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { calculatorFrom, calculatorTo, calculatorAmount, wrongInput, summary } from '../components/redux/actions'; // Components\n\nimport Select from '../components/Select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Calculator = _ref => {\n  _s();\n\n  let {\n    calculate,\n    currencies,\n    alertMessage\n  } = _ref;\n  const dispatch = useDispatch();\n\n  const selectFromHandler = event => {\n    const value = event.target.value;\n    const rate = currencies.filter(currency => currency[0] === event.target.value)[0][1];\n    dispatch(calculatorFrom(value, rate));\n    dispatch(summary());\n  };\n\n  const selectToHandler = event => {\n    const value = event.target.value;\n    const rate = currencies.filter(currency => currency[0] === event.target.value)[0][1];\n    dispatch(calculatorTo(value, rate));\n    dispatch(summary());\n  };\n\n  const inputHandler = event => {\n    const value = event.target.value;\n\n    if (/^[0-9]*$/.test(value)) {\n      dispatch(calculatorAmount(value));\n      const summ = currencies.filter(currency => currency[0] === calculate.from)[0][1] * calculate.amount * currencies.filter(currency => currency[0] === calculate.to)[0][1];\n      console.log(summ);\n      dispatch(summary());\n    } else {\n      dispatch(wrongInput());\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"legend\",\n      children: \"Select Currencies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"currency-fields\",\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        option: calculate.from,\n        currencies: currencies,\n        selectHandler: event => selectFromHandler(event)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"svg-arrow-right\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          children: /*#__PURE__*/_jsxDEV(\"use\", {\n            xlinkHref: \"#right-arrow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        option: calculate.to,\n        currencies: currencies,\n        selectHandler: event => selectToHandler(event)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"legend\",\n      children: [\"Amount to Exchange \", alertMessage && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: \"(Just an Integer)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 62\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"input-field\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: calculate.amount,\n        onChange: event => inputHandler(event),\n        placeholder: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"legend\",\n      children: \"Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"summary\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: calculate.summary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Calculator, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Calculator;\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    calculate: state.calculator,\n    currencies: state.fetch.currencies,\n    alertMessage: state.app.alert\n  };\n};\n\nexport default connect(mapStateToProps, null)(Calculator);\n\nvar _c;\n\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"names":["react","connect","useDispatch","calculatorFrom","calculatorTo","calculatorAmount","wrongInput","summary","Select","Calculator","calculate","currencies","alertMessage","dispatch","selectFromHandler","event","value","target","rate","filter","currency","selectToHandler","inputHandler","test","summ","from","amount","to","console","log","color","mapStateToProps","state","calculator","fetch","app","alert"],"sources":["/home/teplospb/Документы/Web-Dev/test-task-2/src/screens/Calculator.js"],"sourcesContent":["import react from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { calculatorFrom, calculatorTo, calculatorAmount, wrongInput, summary } from '../components/redux/actions';\n\n// Components\nimport Select from '../components/Select';\n\nconst Calculator = ({ calculate, currencies, alertMessage }) => {\n\n\tconst dispatch = useDispatch();\n\t\n\tconst selectFromHandler = (event) => {\n\t\tconst value = event.target.value;\n\t\tconst rate = currencies.filter(currency => currency[0] === event.target.value)[0][1]\n\t\tdispatch(calculatorFrom(value, rate))\n\t\tdispatch(summary())\n\t}\n\n\tconst selectToHandler = (event) => {\n\t\tconst value = event.target.value;\n\t\tconst rate = currencies.filter(currency => currency[0] === event.target.value)[0][1]\n\t\tdispatch(calculatorTo(value, rate))\n\t\tdispatch(summary())\n\t}\n\n\tconst inputHandler = (event) => {\n\t\tconst value = event.target.value;\n\t\tif(/^[0-9]*$/.test(value)) {\n\t\t\tdispatch(calculatorAmount(value));\n\t\t\tconst summ = currencies.filter(currency => currency[0] === calculate.from)[0][1] * calculate.amount * currencies.filter(currency => currency[0] === calculate.to)[0][1]\n\t\t\tconsole.log(summ)\n\t\t\tdispatch(summary())\n\t\t} else {\n\t\t\tdispatch(wrongInput())\n\t\t}\n\t}\n\n\t\n\n    return (\n        <>\n            <div class=\"legend\">Select Currencies</div>\n\t\t\t<div class=\"currency-fields\">\n\t\t\t\t<Select option={ calculate.from } currencies={ currencies } selectHandler={ (event) => selectFromHandler(event) } />\n\t\t\t\t<div class=\"svg-arrow-right\">\n\t\t\t\t\t<svg>\n\t\t\t\t\t\t<use xlinkHref=\"#right-arrow\"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<Select option={ calculate.to } currencies={ currencies } selectHandler={ (event) => selectToHandler(event) } />\n\t\t\t</div>\n\t\t\t<div class=\"legend\">Amount to Exchange { alertMessage && (<span style={{ color: 'red' }}>(Just an Integer)</span>) } </div>\n\t\t\t<div class=\"input-field\">\n\t\t\t\t<input type=\"text\" value={ calculate.amount } onChange={ (event) => inputHandler(event) } placeholder='0'></input>\n\t\t\t</div>\n\t\t\t<div class=\"legend\">Summary</div>\n\t\t\t<div class=\"summary\">\n\t\t\t\t<span>{ calculate.summary }</span>\n\t\t\t</div>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n\tconsole.log(state)\n\treturn {\n\t\tcalculate: state.calculator,\n\t\tcurrencies: state.fetch.currencies,\n\t\talertMessage: state.app.alert\n\t}\n}\n\nexport default connect(mapStateToProps, null)(Calculator);"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,aAArC;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,gBAAvC,EAAyDC,UAAzD,EAAqEC,OAArE,QAAoF,6BAApF,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;;AAEA,MAAMC,UAAU,GAAG,QAA6C;EAAA;;EAAA,IAA5C;IAAEC,SAAF;IAAaC,UAAb;IAAyBC;EAAzB,CAA4C;EAE/D,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;;EAEA,MAAMY,iBAAiB,GAAIC,KAAD,IAAW;IACpC,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;IACA,MAAME,IAAI,GAAGP,UAAU,CAACQ,MAAX,CAAkBC,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBL,KAAK,CAACE,MAAN,CAAaD,KAA3D,EAAkE,CAAlE,EAAqE,CAArE,CAAb;IACAH,QAAQ,CAACV,cAAc,CAACa,KAAD,EAAQE,IAAR,CAAf,CAAR;IACAL,QAAQ,CAACN,OAAO,EAAR,CAAR;EACA,CALD;;EAOA,MAAMc,eAAe,GAAIN,KAAD,IAAW;IAClC,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;IACA,MAAME,IAAI,GAAGP,UAAU,CAACQ,MAAX,CAAkBC,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBL,KAAK,CAACE,MAAN,CAAaD,KAA3D,EAAkE,CAAlE,EAAqE,CAArE,CAAb;IACAH,QAAQ,CAACT,YAAY,CAACY,KAAD,EAAQE,IAAR,CAAb,CAAR;IACAL,QAAQ,CAACN,OAAO,EAAR,CAAR;EACA,CALD;;EAOA,MAAMe,YAAY,GAAIP,KAAD,IAAW;IAC/B,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;;IACA,IAAG,WAAWO,IAAX,CAAgBP,KAAhB,CAAH,EAA2B;MAC1BH,QAAQ,CAACR,gBAAgB,CAACW,KAAD,CAAjB,CAAR;MACA,MAAMQ,IAAI,GAAGb,UAAU,CAACQ,MAAX,CAAkBC,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBV,SAAS,CAACe,IAAxD,EAA8D,CAA9D,EAAiE,CAAjE,IAAsEf,SAAS,CAACgB,MAAhF,GAAyFf,UAAU,CAACQ,MAAX,CAAkBC,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgBV,SAAS,CAACiB,EAAxD,EAA4D,CAA5D,EAA+D,CAA/D,CAAtG;MACAC,OAAO,CAACC,GAAR,CAAYL,IAAZ;MACAX,QAAQ,CAACN,OAAO,EAAR,CAAR;IACA,CALD,MAKO;MACNM,QAAQ,CAACP,UAAU,EAAX,CAAR;IACA;EACD,CAVD;;EAcG,oBACI;IAAA,wBACI;MAAK,KAAK,EAAC,QAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEL;MAAK,KAAK,EAAC,iBAAX;MAAA,wBACC,QAAC,MAAD;QAAQ,MAAM,EAAGI,SAAS,CAACe,IAA3B;QAAkC,UAAU,EAAGd,UAA/C;QAA4D,aAAa,EAAII,KAAD,IAAWD,iBAAiB,CAACC,KAAD;MAAxG;QAAA;QAAA;QAAA;MAAA,QADD,eAEC;QAAK,KAAK,EAAC,iBAAX;QAAA,uBACC;UAAA,uBACC;YAAK,SAAS,EAAC;UAAf;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QAFD,eAOC,QAAC,MAAD;QAAQ,MAAM,EAAGL,SAAS,CAACiB,EAA3B;QAAgC,UAAU,EAAGhB,UAA7C;QAA0D,aAAa,EAAII,KAAD,IAAWM,eAAe,CAACN,KAAD;MAApG;QAAA;QAAA;QAAA;MAAA,QAPD;IAAA;MAAA;MAAA;MAAA;IAAA,QAFK,eAWL;MAAK,KAAK,EAAC,QAAX;MAAA,kCAAyCH,YAAY,iBAAK;QAAM,KAAK,EAAE;UAAEkB,KAAK,EAAE;QAAT,CAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA1D;IAAA;MAAA;MAAA;MAAA;IAAA,QAXK,eAYL;MAAK,KAAK,EAAC,aAAX;MAAA,uBACC;QAAO,IAAI,EAAC,MAAZ;QAAmB,KAAK,EAAGpB,SAAS,CAACgB,MAArC;QAA8C,QAAQ,EAAIX,KAAD,IAAWO,YAAY,CAACP,KAAD,CAAhF;QAA0F,WAAW,EAAC;MAAtG;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QAZK,eAeL;MAAK,KAAK,EAAC,QAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAfK,eAgBL;MAAK,KAAK,EAAC,SAAX;MAAA,uBACC;QAAA,UAAQL,SAAS,CAACH;MAAlB;QAAA;QAAA;QAAA;MAAA;IADD;MAAA;MAAA;MAAA;IAAA,QAhBK;EAAA,gBADJ;AAsBH,CAtDD;;GAAME,U;UAEYP,W;;;KAFZO,U;;AAwDN,MAAMsB,eAAe,GAAGC,KAAK,IAAI;EAChCJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;EACA,OAAO;IACNtB,SAAS,EAAEsB,KAAK,CAACC,UADX;IAENtB,UAAU,EAAEqB,KAAK,CAACE,KAAN,CAAYvB,UAFlB;IAGNC,YAAY,EAAEoB,KAAK,CAACG,GAAN,CAAUC;EAHlB,CAAP;AAKA,CAPD;;AASA,eAAenC,OAAO,CAAC8B,eAAD,EAAkB,IAAlB,CAAP,CAA+BtB,UAA/B,CAAf"},"metadata":{},"sourceType":"module"}
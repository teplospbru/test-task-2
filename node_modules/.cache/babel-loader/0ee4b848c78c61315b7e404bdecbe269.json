{"ast":null,"code":"import _objectSpread from\"/home/teplospb/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/Web-Dev/test-task-2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CALC_CALCULATE_FROM,CALC_CALCULATE_TO,CALC_AMOUNT,GET_SUMMARY,RATES_FETCH}from\"./types\";var initialState={from:'USD',fromRate:'',to:'RUB',toRate:'',amount:'',summary:0,currencies:[['USD',1],['EUR',null],['RUB',null],['BYN',null],['INR',null],['CNY',null],['TRY',null],['GBP',null],['CHF',null],['JPY',null],['THB',null]]};export var calculatorReducer=function calculatorReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CALC_CALCULATE_FROM:return _objectSpread(_objectSpread({},state),{},{from:action.currency,fromRate:state.currencies.filter(function(currency){return currency[0]===action.currency;})[0][1],summary:parseFloat(state.amount*state.toRate/state.currencies.filter(function(currency){return currency[0]===action.currency;})[0][1]).toFixed(2)});case CALC_CALCULATE_TO:return _objectSpread(_objectSpread({},state),{},{to:action.currency,toRate:state.currencies.filter(function(currency){return currency[0]===action.currency;})[0][1],summary:parseFloat(state.amount*state.currencies.filter(function(currency){return currency[0]===action.currency;})[0][1]/state.fromRate).toFixed(2)});case CALC_AMOUNT:return _objectSpread(_objectSpread({},state),{},{amount:action.amount,summary:parseFloat(action.amount*state.toRate/state.fromRate).toFixed(2)});case GET_SUMMARY:return _objectSpread(_objectSpread({},state),{},{summary:parseFloat(state.amount*state.toRate/state.fromRate).toFixed(2)});case RATES_FETCH:return _objectSpread(_objectSpread({},state),{},{currencies:action.currencies,fromRate:action.currencies.filter(function(currency){return currency[0]===state.from;})[0][1],toRate:action.currencies.filter(function(currency){return currency[0]===state.to;})[0][1]});default:return state;}};","map":{"version":3,"names":["CALC_CALCULATE_FROM","CALC_CALCULATE_TO","CALC_AMOUNT","GET_SUMMARY","RATES_FETCH","initialState","from","fromRate","to","toRate","amount","summary","currencies","calculatorReducer","state","action","type","currency","filter","parseFloat","toFixed"],"sources":["/home/teplospb/Документы/Web-Dev/test-task-2/src/components/redux/calculatorReducer.js"],"sourcesContent":["import { CALC_CALCULATE_FROM, CALC_CALCULATE_TO, CALC_AMOUNT, GET_SUMMARY, RATES_FETCH } from \"./types\";\n\nconst initialState = {\n    from: 'USD',\n    fromRate: '',\n    to: 'RUB',\n    toRate: '',\n    amount: '',\n    summary: 0,\n    currencies: [\n        ['USD', 1 ],\n        ['EUR', null],\n        ['RUB', null],\n        ['BYN', null],\n        ['INR', null],\n        ['CNY', null],\n        ['TRY', null],\n        ['GBP', null],\n        ['CHF', null],\n        ['JPY', null],\n        ['THB', null],\n    ],\n}\n\nexport const calculatorReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case CALC_CALCULATE_FROM:\n            return {\n                ...state, \n                from: action.currency, \n                fromRate: state.currencies.filter(currency => currency[0] === action.currency)[0][1], \n                summary: parseFloat(state.amount * state.toRate / state.currencies.filter(currency => currency[0] === action.currency)[0][1]).toFixed(2)\n            }\n        case CALC_CALCULATE_TO:\n            return {\n                ...state, \n                to: action.currency, \n                toRate: state.currencies.filter(currency => currency[0] === action.currency)[0][1],\n                summary: parseFloat(state.amount * state.currencies.filter(currency => currency[0] === action.currency)[0][1] / state.fromRate).toFixed(2)\n            }\n        case CALC_AMOUNT:\n            return {\n                ...state, amount: action.amount, summary: parseFloat(action.amount * state.toRate / state.fromRate).toFixed(2)\n            }\n        case GET_SUMMARY:\n            return {\n                ...state, \n                summary: parseFloat(state.amount * state.toRate / state.fromRate).toFixed(2)\n            }\n        case RATES_FETCH:\n            return {\n                ...state, \n                currencies: action.currencies,\n                fromRate: action.currencies.filter(currency => currency[0] === state.from)[0][1],\n                toRate: action.currencies.filter(currency => currency[0] === state.to)[0][1],\n            }\n        default: return state;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}